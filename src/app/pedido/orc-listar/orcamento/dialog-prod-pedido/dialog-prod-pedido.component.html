<div fxLayout="row wrap">
    <!-- Card column -->
    <div fxFlex.gt-sm="100" fxFlex="100">
      <h4 color="primary" class="dialog-headline">Ajuste de Produto</h4>
      <form [formGroup]="form" class="form text-size">
        <div fxLayout="row wrap" class="row">
          <div class="p-10" fxFlex.gt-sm="18" fxFlex.gt-xs="18" fxFlex="100">
            <mat-form-field appearance="outline" [hideRequiredMarker]="form.value.hideRequired"
              [floatLabel]="form.value.floatLabel">
              <mat-label>Cor</mat-label>
              <mat-select required formControlName="cor" name="cores">
                <mat-option *ngFor="let cor of cores" [value]="cor.nome">
                  {{cor.nome}}
                </mat-option>
              </mat-select>
              <mat-placeholder>Cores</mat-placeholder>
            </mat-form-field>
          </div>
          <div class="p-10" fxFlex.gt-sm="15" fxFlex.gt-xs="15" fxFlex="100">
            <mat-form-field appearance="outline" [hideRequiredMarker]="form.value.hideRequired"
              [floatLabel]="form.value.floatLabel">
              <mat-label>Tamanho</mat-label>
              <mat-select required formControlName="tamanho" name="tamanho">
                <mat-option *ngFor="let tamanho of tamanhos" [value]="tamanho.tamanho.nome">
                  {{tamanho.tamanho.nome}}
                </mat-option>
              </mat-select>
              <mat-placeholder>Tamanho</mat-placeholder>
            </mat-form-field>
          </div>
          <div class="p-10" fxFlex.gt-sm="10" fxFlex.gt-xs="10" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Qtd</mat-label>
              <input matInput placeholder="quantidade" formControlName="quantidade" (blur)="setTotal()">
            </mat-form-field>
          </div>
          <div class="p-10" fxFlex.gt-sm="16" fxFlex.gt-xs="16" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Vlr Unit.</mat-label>
              <input matInput placeholder="Valor unit." formControlName="valor_unitario" (blur)="setTotal()"
                currencyMask>
            </mat-form-field>
          </div>
          <div class="p-10" fxFlex.gt-sm="18" fxFlex.gt-xs="18" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Vlr total</mat-label>
              <input matInput placeholder="Vlr total" currencyMask formControlName="valor_total" readonly>
            </mat-form-field>
          </div>
          <div class="p-10" fxFlex.gt-sm="18" fxFlex.gt-xs="18" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Obs</mat-label>
              <input matInput placeholder="Obs" formControlName="obs">
            </mat-form-field>
          </div>
          <div class="p-10" fxFlex.gt-sm="5" fxFlex.gt-xs="5" fxFlex="100">
            <div class="m-t-20">
              <i class="material-icons plus-icons" style="cursor: pointer;" (click)="addProduto()">add_circle_outline</i>
            </div>
          </div>
        </div> 
      </form>
      <table mat-table [dataSource]="dataSource" style="width: 100%; font-size: 10px; border: rgba(0, 0, 0, 0.12) solid 1px; ">
        
        <ng-container matColumnDef="Nome" >
          <th mat-header-cell *matHeaderCellDef> Nome </th>
          <td mat-cell *matCellDef="let element"> {{element.nome}}</td>
        </ng-container>

        <ng-container matColumnDef="Cor" >
          <th mat-header-cell *matHeaderCellDef> Cor </th>
          <td mat-cell *matCellDef="let element"> {{element.cor}}</td>
        </ng-container>

        <ng-container matColumnDef="Tamanho" >
          <th mat-header-cell *matHeaderCellDef> Tamahno </th>
          <td mat-cell *matCellDef="let element"> {{element.tamanho}}</td>
        </ng-container>

        <ng-container matColumnDef="Quantidade" >
          <th mat-header-cell *matHeaderCellDef> Quantidade </th>
          <td mat-cell *matCellDef="let element"> {{element.quantidade}}</td>
        </ng-container>

        <ng-container matColumnDef="Vlr Unit." >
          <th mat-header-cell *matHeaderCellDef> Vlr Unit. </th>
          <td mat-cell *matCellDef="let element"> {{element.valor_unitario | currency:'BRL':true:'1.2-5'}}</td>
        </ng-container>

        <ng-container matColumnDef="Vlr total" >
          <th mat-header-cell *matHeaderCellDef> Vlr total </th>
          <td mat-cell *matCellDef="let element"> {{ element.valor_total | currency:'BRL':true:'1.2-5' }}</td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns" style="height: 30px !important;"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" style="height: 25px !important;"></tr>
    </table>
      <div style="margin-top: 10px; margin-left:5px">
        <button mat-stroked-button color="primary" (click)="save()" [disabled]="dataSource.length == 0 ">Inserir</button>
        <button mat-stroked-button color="warn" (click)="dialogRef.close()">Cancelar</button>
      </div>
    </div>
</div>